## Adding a new indexer dimension into CLI
This topic discusses how to add posibillity to switch indexer dimension modes for new indexer. There are commands that helps to set dimension modes and set a new dimension modes for indexer:
```bash
bin/magento indexer:show-dimensions-mode [indexer]
bin/magento indexer:set-dimensions-mode [<indexer>] [<mode>]
```
Detailed information how to use them can be founded in [Manage the indexers](https://devdocs.magento.com/guides/v2.2/config-guide/cli/config-cli-subcommands-index.html).

### Indexer modes switcher configuration
Your modes switcher should implement \Magento\Indexer\Model\Indexer\ModeSwitcherInterface, and should be able to perform those types of operations:

* Return a list of modes that are supported by given indexer in the following format:
 ```
 [
    'mode1' => ['dimension1'],
    'mode2' => ['dimension2']
    'mode3' => ['dimension1', 'dimension2']
 ]
 ```
 That is responsibility of `getDimensionSwitchModes` method
* Perform switching between modes; responsibility of `switchMode(string $currentMode, string $previousMode)`, where `$currentMode` is the mode need to be set and `$previousMode` is the previous dimension mode of the indexer.

<!--->
Examples of current implementation must be here after release of MAGETWO-64471
<!--->

### Adding mode switcher to CLI

To make mode switcher available in CLI you need to add new argument into \Magento\Indexer\Console\Command\IndexerDimensionsModeCommand through di.xml of indexer module.
Open `app/code/Magento/<Module_Name>/etc/di.xml` and add the following configuration:
```
<type name="Magento\Indexer\Console\Command\IndexerDimensionsModeCommand">
    <arguments>
        <argument name="dimensionSwitchers" xsi:type="array">
            <item name="indexer_name" xsi:type="object">Magento\<Module_Name>\Model\Indexer\<Path_To_Model>\ModeSwitcher</item>
        </argument>
    </arguments>
</type>
``` 
<!--->
Examples of current implementation must be here after release of MAGETWO-64471
<!--->